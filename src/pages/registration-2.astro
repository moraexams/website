---
import Layout from '../layouts/Layout.astro';
import NavigationBar from '../sections/1-navigation-bar.astro';
const pageTitle = "Exam Registration";
---

<Layout pageTitle={pageTitle}>
    <div class="bg-purple-800">
        <NavigationBar />
    </div>
    <section
		class="min-h-screen bg-delft-blue-50/50 text-primary-900 flex justify-center"
	>
        <div
            class="max-w-screen-xl my-10 sm:m-20 bg-white shadow sm:rounded-lg flex justify-center px-6 py-5 sm:p-12 flex-col items-center h-fit flex-1"
        >
        <h1 class="text-4xl font-bold mb-6">{pageTitle}</h1>
        
        <form id="personalForm" class="space-y-6" enctype="multipart/form-data">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label for="firstName" class="block mb-1 font-medium">First Name</label>
                <input id="firstName" name="firstName" required class="w-full border px-3 py-2 rounded" />
            </div>
            
            <div>
                <label for="lastName" class="block mb-1 font-medium">Last Name</label>
                <input id="lastName" name="lastName" required class="w-full border px-3 py-2 rounded" />
            </div>

            <div>
                <label for="nic" class="block mb-1 font-medium">NIC</label>
                <input id="nic" name="nic" required class="w-full border px-3 py-2 rounded" />
            </div>

            <div>
                <label for="school" class="block mb-1 font-medium">School</label>
                <input id="school" name="school" required class="w-full border px-3 py-2 rounded" />
            </div>

            <div class="md:col-span-2">
                <label for="address" class="block mb-1 font-medium">Permanent Address</label>
                <input id="address" name="address" required class="w-full border px-3 py-2 rounded" />
            </div>

            <div>
                <label for="phone" class="block mb-1 font-medium">Phone Number</label>
                <input id="phone" name="phone" type="tel" required class="w-full border px-3 py-2 rounded" />
            </div>

            <div>
                <label for="email" class="block mb-1 font-medium">E-mail</label>
                <input id="email" name="email" required class="w-full border px-3 py-2 rounded" />
            </div>

            <div>
                <label for="gender" class="block mb-1 font-medium">Gender</label>
                <select id="gender" name="gender" required class="w-full border px-3 py-2 rounded">
                    <option value="">Select</option>
                    <option>Male</option>
                    <option>Female</option>
                </select>
            </div>

            <div>
                <label for="streamDetails" class="block mb-1 font-medium">Stream and Exam Centre Details</label>
                <input id="streamDetails" name="streamDetails" class="w-full border px-3 py-2 rounded"></input>
            </div>

            <div>
                <label for="stream" class="block mb-1 font-medium">Stream</label>
                <select id="stream" name="stream" required class="w-full border px-3 py-2 rounded">
                    <option value="">Select</option>
                    <option>Physical Science (Maths , Physics, Chemistry)</option>
                    <option>Biological Science (Biology, Physics, Chemistry)</option>
                    <option>Maths, Physics, ICT</option>
                    <option>Biology, Chemistry, ICT</option>
                    <option>ICT Only</option>
                    <option>Biology, Physics, ICT</option>
                </select>
            </div>

            <div>
                <label for="medium" class="block mb-1 font-medium">Medium</label>
                <select id="medium" name="medium" required class="w-full border px-3 py-2 rounded">
                    <option value="">Select</option>
                    <option>English</option>
                    <option>Tamil</option>
                </select>
            </div>

            <div>
                <label for="rankDistrict" class="block mb-1 font-medium">District Considered for Ranking</label>
                <select id="rankDistrict" name="rankDistrict" required class="w-full border px-3 py-2 rounded">
                    <option>Select</option>
                    <option>Ampara</option>
                    <option>Anuradhapura</option>
                    <option>Badulla</option>
                    <option>Batticaloa</option>
                    <option>Colombo</option>
                    <option>Galle</option>
                    <option>Gampaha</option>
                    <option>Hambantota</option>
                    <option>Jaffna</option>
                    <option>Kalutara</option>
                    <option>Kandy</option>
                    <option>Kegalle</option>
                    <option>Kilinochchi</option>
                    <option>Kurunegala</option>
                    <option>Mannar</option>
                    <option>Matale</option>
                    <option>Matara</option>
                    <option>Monaragala</option>
                    <option>Mullaitivu</option>
                    <option>Nuwara Eliya</option>
                    <option>Polonnaruwa</option>
                    <option>Putalam</option>
                    <option>Ratnapura</option>
                    <option>Trincomalee</option>
                    <option>Vavuniya</option>
                </select>
            </div>

            <div>
                <label for="examDistrict" class="block mb-1 font-medium">District for Exam Sitting</label>
                <select id="examDistrict" name="examDistrict" required class="w-full border px-3 py-2 rounded">
                    <option value="">Select</option>
                    <option value="Ampara">Ampara</option>
                    <option value="Anuradhapura">Anuradhapura</option>
                    <option value="Badulla">Badulla</option>
                    <option value="Batticaloa">Batticaloa</option>
                    <option value="Colombo">Colombo</option>
                    <option value="Galle">Galle</option>
                    <option value="Gampaha">Gampaha</option>
                    <option value="Hambantota">Hambantota</option>
                    <option value="Jaffna">Jaffna</option>
                    <option value="Kalutara">Kalutara</option>
                    <option value="Kandy">Kandy</option>
                    <option value="Kegalle">Kegalle</option>
                    <option value="Kilinochchi">Kilinochchi</option>
                    <option value="Kurunegala">Kurunegala</option>
                    <option value="Mannar">Mannar</option>
                    <option value="Matale">Matale</option>
                    <option value="Matara">Matara</option>
                    <option value="Monaragala">Monaragala</option>
                    <option value="Mullaitivu">Mullaitivu</option>
                    <option value="Nuwara Eliya">Nuwara Eliya</option>
                    <option value="Polonnaruwa">Polonnaruwa</option>
                    <option value="Putalam">Putalam</option>
                    <option value="Ratnapura">Ratnapura</option>
                    <option value="Trincomalee">Trincomalee</option>
                    <option value="Vavuniya">Vavuniya</option>
                </select>
            </div>

            <div>
                <label for="examCenter" class="block mb-1 font-medium">Exam Center</label>
                <select id="examCenter" name="examCenter" class="w-full border px-3 py-2 rounded" required disabled>
                    <option value="">Select</option>
                </select>
            </div>

            <div class="mb-6">
                <label for="bankReceipt" class="block mb-1 font-medium">
                Upload Bank Receipt
                </label>
                <input 
                type="file" 
                id="bankReceipt" 
                name="bankReceipt"
                class="custom-file-input block w-full text-sm text-gray-900 file:mr-4
                        file:rounded-lg file:border-0 file:font-bold file:text-lg 
                        file:cursor-pointer file:bg-[linear-gradient(135deg,#852d91,#312a6c)]
                        file:text-white hover:file:text-[#cfcece] hover:file:shadow-md 
                        file:transition-all file:duration-300"
                />
                
            </div>

            <div class="md:col-span-2 justify-between flex items-center">
                <button 
                type="button" 
                class="btn text-xl text-center font-bold border-0 outline-ultra-violet-500 outline-2 outline rounded-lg cursor-pointer"
                >
                    Previous
                </button>

                <button 
                type="submit" 
                class="btn text-xl text-center font-bold justify-end border-0 outline-ultra-violet-500 outline-2 outline rounded-lg cursor-pointer"
                >
                    Submit
                </button>
            </div>
        </form>
        </div>
    </section>

    <script>

        const districtCenters = {
            "Ampara": ["Select", "KM/Vipulananda Central College, Karaitivu", "KM/Zahira College, Kalmunai", "KM/TK/Thambiluvil Mathya Maha Vidyalayam", "Km/Km Carmel Fatima College",
                "Muslim Madya Maha Vidiyalayam,Sammanthurai", "KM/Al-Ashraq M.M.V, Nintavur", "Ak/As-Siraj Maha Vidyalayam", "Ak/Al-Irfan Ladies College, Pottuvil", "KM/ST/Al-Ashraf Central College, Irakkama", 
                "KM/AK/AI-Hamra Maha Vidyalaya, Oluvil", "KM/TK/Sri Rama Krishna College", "AK/Addalaichenai M.M.V."],

            "Anuradhapura": ["Select", "A/An-Noor Maha Vidyalaya, Ikkirigollawa", "Kahatagasdhigiliya Muslim M.V."],

            "Badulla": ["Select", "B/Bandarawela Tamil Central College", "Saraswathi Central College", "B/Welimada Muslim Maha Vidyalaya"],

            "Batticaloa": ["Select", "BT/BC/Alighar Central College", "BT/BT/Mahajana College", "BT/BC/Meera Balika National School", "BT/Shivananda National School",
                "BT/Paddirupu Maha Vidyalaya", "BT/KK/Chenkalady Central College", "BT/Valaichenai Hindu College"],
            
            "Colombo": ["Select", "Hindu Ladies College, Colombo - 06", "Vivekananda National College, Kotahena"],

            "Galle": ["Select", "G/Malharus Sulhiya Central College"],

            "Gampaha": ["Select", "Al Azhar Central College, Thihariya (IT Only)", "Al-Muhsin Science College, Malwana"],

            "Jaffna": ["Select", "Jaffna Hindu College", "Jaffna Hindu Ladies' College", "Chavakachcheri Hindu college", "J/Nelliady Central College", "J/Methodist Girls High School",
                "Ramanathan College", "Kopay Christian College"],
            
            "Kalutara": ["Select", "Science Project, Dharga town (DSP)"],

            "Kandy": ["Select", "K/Akurana Balika MMV", "K/Kathiresan Central College"],

            "Kegalle": ["Select", "Ceylon Ladies' Campus, Warakapola", "KG/Mw/Zahira College, Mawanella"],

            "Kilinochchi": ["Select", "Kilinochchi Madya Maha Vidyalayam"],

            "Kurunegala": ["Select", "Annoor National School", "Ku/Giri/Madeena National School", "Giri/Kekunagolla Central College (National School) | ASDA"],

            "Mannar": ["Select", "St.Xavier's Boys' National College", "Mn/Fatima M.M.V, Pesalai"],

            "Matale": ["Select", "Pakkiyam National College"],

            "Matara": ["Select", "DFEC Science Project, Dickwella", "MR/Arafa National School, Weligama"],

            "Mullaitivu": ["Select", "Mulliyawalai Vidyananda College", "Puthukkudiyiruppu Central College", "Mullaitivu Maha Vidyalayam", "Mu/Visvamadu Maha Vidyalayam", "Mu/Mallavi Central College",
                "Mu/Udayarkaddu Maha Vidyalayam"],

            "Nuwara Eliya": ["Select", "Highlands College, Hatton", "Talawakelle Tamil Maha Vidyalayam", "Kotagala Tamil Maha Vidyalayam"],

            "Puttalam": ["Select", "President's Science College", "Kadayamottai Muslim Central College", "Mercy Education Campus"],

            "Trincomalee": ["Select", "T/R.K.M Sri Koneswara Hindu College", "T/Kinniya Al-Hira Muslim Maha Vid", "T/MU/Mutur Central College", "T/MU/Fathima Ladies' College"],

            "Vavuniya": ["Select", "V/Rambaikkulam Girls Maha Vidyalayam", "V/Cheddikulam Maha Vidyalayam", "V/Saivapragasa Ladies' College", "V/Vavuniya Tamil Madhya Maha Vidyalayam"],

            "Hambantota": ["Select", "Zahira National school, Hambantota"]

        };

        document.addEventListener('DOMContentLoaded', () => {
            const districtSelect = document.getElementById('examDistrict');
            const centerSelect = document.getElementById('examCenter');

            districtSelect.addEventListener('change', () => {
            const selectedDistrict = (districtSelect as HTMLSelectElement).value;
            centerSelect.innerHTML = ""; // clear existing options

            if (!selectedDistrict || !districtCenters[selectedDistrict]) {
                (centerSelect as HTMLSelectElement).disabled = true;
                centerSelect.innerHTML = `<option value="">Select</option>`;
                return;
            }

            // Enable and populate exam centers
            (centerSelect as HTMLSelectElement).disabled = false;
            districtCenters[selectedDistrict].forEach(center => {
                const option = document.createElement('option');
                option.value = center;
                option.textContent = center;
                centerSelect.appendChild(option);
            });
            });
        });

        const previousButton = document.querySelector('button[type="button"]');

        previousButton.addEventListener('click', () => {
        window.location.href = '/registration-1';
        });
    </script>

    <style>
        .btn {
            color: #fff;
            background: linear-gradient(135deg, #852d91, #312a6c);
            padding: 12px 20px;
            transition: all 0.3s cubic-bezier(0.02, 0.01, 0.47, 1);
        }

        .btn:hover {
            color: #cfcece;
            border: none;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            animation: rotate 0.7s ease-in-out both;
        }

        .btn:hover:before {
            transform: translate3d(50%, 0, 0) scale(0.9);
        }

        .btn:hover:after {
            transform: translate(50%, 0) scale(1.1);
        }
    </style>
</Layout>
