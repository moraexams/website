---
import { useTranslations, getLangFromUrl } from "../i18n/utils";
import Button from "./Button.astro";

const t = useTranslations(getLangFromUrl(Astro.url));
---

<dialog id="confirmation-dialog">
	<h2 class="mt-0 mb-2">Confirmation</h2>
	<p class="mt-0 mb-4">Here is the summary of your registration details.</p>

	<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-[0.6rem]">
		<div class="col-span-full">
			<label>{t("student_register__form_name")}</label>
			<span data-name="name"></span>
		</div>
		<div>
			<label>{t("student_register__form_nic_no")}</label>
			<span data-name="nic"></span>
		</div>
		<div>
			<label>{t("student_register__form_school")}</label>
			<span data-name="school"></span>
		</div>
		<div class="col-span-full">
			<label>{t("student_register__form_permanent_address")}</label>
			<span data-name="address"></span>
		</div>
		<div>
			<label>{t("student_register__form_email")}</label>
			<span data-name="email"></span>
		</div>
		<div>
			<label>{t("student_register__form_medium")}</label>
			<span data-name="medium"></span>
		</div>
		<div>
			<label>{t("student_register__form_stream")}</label>
			<span data-name="stream"></span>
		</div>
		<div>
			<label>{t("student_register__form_district_ranking")}</label>
			<span data-name="district_ranking"></span>
		</div>
		<div>
			<label>{t("student_register__form_district_sitting")}</label>
			<span data-name="district_exam"></span>
		</div>
		<div>
			<label>{t("student_register__form_exam_centre")}</label>
			<span data-name="exam_centre"></span>
		</div>
		<Button
			class="py-2 px-4 col-start-1 md:col-start-2 w-fit justify-self-end rounded-md border-0 !transform-none !bg-transparent"
		>
			Close
		</Button>
	</div>
</dialog>

<script>
	const dialog = document.querySelector<HTMLDialogElement>(
		"dialog#confirmation-dialog",
	);

	dialog.querySelector("button").addEventListener("click", () => {
		dialog.close();
	});
</script>

<style>
	dialog {
		@apply bg-purple-50 border-purple-800 p-4 rounded-lg shadow-xl backdrop:bg-gray-900/40 backdrop-blur-xl min-w-[min(780px,96vw)];

		label {
			@apply text-sm;
		}
		span {
			@apply block font-medium;
		}
	}
</style>
